# 万方商事 B2B 采购门户生产环境配置示例
# 请复制为 .env.production 并修改相应值

# ================================
# 应用配置
# ================================
APP_NAME="万方商事 B2B 采购门户"
APP_ENV=production
APP_KEY=base64:YOUR_APP_KEY_HERE
APP_DEBUG=false
APP_URL=https://manpou.jp
APP_TIMEZONE=Asia/Tokyo

# ================================
# 日志配置
# ================================
LOG_CHANNEL=stack
LOG_DEPRECATIONS_CHANNEL=null
LOG_LEVEL=error
LOG_SLACK_WEBHOOK_URL=

# ================================
# 数据库配置
# ================================
DB_CONNECTION=mysql
DB_HOST=mysql-prod.manpou.jp
DB_PORT=3306
DB_DATABASE=banho_b2b_production
DB_USERNAME=banho_user
DB_PASSWORD=YOUR_DB_PASSWORD
DB_CHARSET=utf8mb4
DB_COLLATION=utf8mb4_unicode_ci

# ================================
# 缓存配置
# ================================
BROADCAST_DRIVER=log
CACHE_DRIVER=redis
FILESYSTEM_DISK=local
QUEUE_CONNECTION=redis
SESSION_DRIVER=redis
SESSION_LIFETIME=120
SESSION_ENCRYPT=false
SESSION_PATH=/
SESSION_DOMAIN=.manpou.jp

# ================================
# Memcached 配置
# ================================
MEMCACHED_HOST=127.0.0.1

# ================================
# Redis 配置
# ================================
REDIS_HOST=redis-prod.manpou.jp
REDIS_PASSWORD=YOUR_REDIS_PASSWORD
REDIS_PORT=6379
REDIS_DB=0
REDIS_CACHE_DB=1
REDIS_SESSION_DB=2

# ================================
# 邮件配置
# ================================
MAIL_MAILER=smtp
MAIL_HOST=smtp.manpou.jp
MAIL_PORT=587
MAIL_USERNAME=noreply@manpou.jp
MAIL_PASSWORD=YOUR_MAIL_PASSWORD
MAIL_ENCRYPTION=tls
MAIL_FROM_ADDRESS=noreply@manpou.jp
MAIL_FROM_NAME="${APP_NAME}"

# ================================
# AWS 配置 (如使用 S3)
# ================================
AWS_ACCESS_KEY_ID=YOUR_AWS_ACCESS_KEY
AWS_SECRET_ACCESS_KEY=YOUR_AWS_SECRET_KEY
AWS_DEFAULT_REGION=ap-northeast-1
AWS_BUCKET=banho-b2b-storage
AWS_USE_PATH_STYLE_ENDPOINT=false

# ================================
# Vite 配置
# ================================
VITE_APP_NAME="${APP_NAME}"
VITE_PUSHER_APP_KEY=
VITE_PUSHER_HOST=
VITE_PUSHER_PORT=
VITE_PUSHER_SCHEME=https
VITE_PUSHER_APP_CLUSTER=mt1

# ================================
# JWT 认证配置
# ================================
JWT_SECRET=YOUR_JWT_SECRET_HERE
JWT_TTL=60
JWT_REFRESH_TTL=20160
JWT_ALGORITHM=HS256

# ================================
# 监控配置
# ================================
PROMETHEUS_ENABLED=true
PROMETHEUS_METRICS_PATH=/metrics
PROMETHEUS_AUTH_USERNAME=prometheus
PROMETHEUS_AUTH_PASSWORD=YOUR_PROMETHEUS_PASSWORD

# ================================
# 安全配置
# ================================
CORS_ALLOWED_ORIGINS=https://manpou.jp,https://www.manpou.jp,https://admin.manpou.jp
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-Requested-With,X-CSRF-TOKEN

# ================================
# 业务配置
# ================================
DEFAULT_CURRENCY=JPY
SUPPORTED_CURRENCIES=JPY,CNY,USD
DEFAULT_LANGUAGE=ja
SUPPORTED_LANGUAGES=ja,en,zh

# ================================
# 第三方服务配置
# ================================
# 支付网关
STRIPE_KEY=pk_live_YOUR_STRIPE_KEY
STRIPE_SECRET=sk_live_YOUR_STRIPE_SECRET
STRIPE_WEBHOOK_SECRET=YOUR_STRIPE_WEBHOOK_SECRET

# 物流服务
SHIPMENT_API_KEY=YOUR_SHIPMENT_API_KEY
SHIPMENT_API_URL=https://api.shipment-provider.com

# 短信服务
SMS_API_KEY=YOUR_SMS_API_KEY
SMS_API_SECRET=YOUR_SMS_API_SECRET

# ================================
# 性能配置
# ================================
OPCACHE_ENABLE=1
OPCACHE_MEMORY_CONSUMPTION=256
OPCACHE_MAX_ACCELERATED_FILES=20000
OPCACHE_REVALIDATE_FREQ=0
OPCACHE_FAST_SHUTDOWN=1

# ================================
# 限流配置
# ================================
API_THROTTLE_REQUESTS=1000
API_THROTTLE_MINUTES=1
LOGIN_THROTTLE_REQUESTS=5
LOGIN_THROTTLE_MINUTES=1

# ================================
# 备份配置
# ================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=banho-b2b-backups
BACKUP_ENCRYPTION_KEY=YOUR_BACKUP_ENCRYPTION_KEY

# ================================
# SSL 配置
# ================================
FORCE_HTTPS=true
SSL_CERT_PATH=/etc/ssl/certs/manpou.jp.crt
SSL_KEY_PATH=/etc/ssl/private/manpou.jp.key
SSL_CHAIN_PATH=/etc/ssl/certs/manpou.jp-chain.crt

# ================================
# 通知配置
# ================================
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/YOUR/DISCORD/WEBHOOK
TELEGRAM_BOT_TOKEN=YOUR_TELEGRAM_BOT_TOKEN
TELEGRAM_CHAT_ID=YOUR_TELEGRAM_CHAT_ID

# ================================
# 开发工具配置 (生产环境禁用)
# ================================
TELESCOPE_ENABLED=false
DEBUGBAR_ENABLED=false
CLOCKWORK_ENABLED=false

# ================================
# 维护模式
# ================================
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE="系统维护中，请稍后再试。"
MAINTENANCE_ALLOWED_IPS=127.0.0.1,::1

# ================================
# 法律和合规
# ================================
GDPR_ENABLED=true
COOKIE_CONSENT_ENABLED=true
PRIVACY_POLICY_URL=https://manpou.jp/privacy
TERMS_OF_SERVICE_URL=https://manpou.jp/terms

# ================================
# 自定义配置
# ================================
COMPANY_NAME="万方商事株式会社"
COMPANY_ADDRESS="〒100-0001 東京都千代田区丸の内1-1-1"
COMPANY_PHONE="+81-3-1234-5678"
COMPANY_EMAIL="info@manpou.jp"
SUPPORT_EMAIL="support@manpou.jp"
SALES_EMAIL="sales@manpou.jp"